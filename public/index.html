<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="/timeago.min.js"></script>
    <title>Message Feed</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css?family=Cute+Font&display=swap" rel="stylesheet">
  </head>
  <body>

    <a class="link link1" href="#">Get a Dark Fortune</a>
    <a class="link link2" href="#">Get a Gentle Fortune</a>
    <a class="link link3" href="#">Get a Too Good To Be True Fortune</a>
    <a class="link link4" href="#">Get a Pragmatic Fortune</a>

      <div class="topnav">
          <a href="/post.html">Message</a>
          <a href="/">Home</a>
        </div>
        <div class="fortune">
        </div>
    
   

    <button class="button1">do you wish to seek</button>
    <button class="button2">BE NICE 2 ME</button>
    <button class="button3">BULLY ME</button>
    <button class="button4">LIE TO ME</button>
    <button class="button5">LET'S BE HONEST</button>

   


    <script>
//Hello! This is the start of the JavaScript.

function displayMessage(post) {

  let postHTML = 
  '<div class="post">'

+ '<div class="message">' + post.message + '<img src="'+post.image+'"> </div>'
  + '<div class="time">' + timeago.format(post.time) + '</div>'


  + '</div>';

  let messageList = document.querySelector(".fortune");
  messageList.innerHTML = "";
  messageList.innerHTML += postHTML;
}

function createFeed(posts) {
  posts.forEach(displayMessage);
}

getFortune1()

function getFortune1() {
fetch("/random/dark") 
  .then(response => response.json())
  .then(displayMessage)
}


let link1 = document.querySelector(".button2");
link1.addEventListener("click", getFortune1);

function getFortune2() {
fetch("/random/gentle") 
  .then(response => response.json())
  .then(displayMessage)
}


let link2 = document.querySelector(".button4");
link2.addEventListener("click", getFortune2);

function getFortune3() {
fetch("/random/too good to be true") 
  .then(response => response.json())
  .then(displayMessage)
}


let link3 = document.querySelector(".button5");
link3.addEventListener("click", getFortune3);

function getFortune4() {
fetch("/random/pragmatic") 
  .then(response => response.json())
  .then(displayMessage)
}


let link4 = document.querySelector(".button1");
link4.addEventListener("click", getFortune4);

//This is the end of the JavaScript.
    </script>
  </body>
</html>