<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>

  

<div class="topnav">
    <a class="active" href="/feed.html">Feed</a>
    <a href="/post.html">Message</a>
    <a href="/">Home</a>
  </div>
    
  <div class="note"></div>

      <form method="post" action="/posts">
          <input class="messageInput" type="text" name="message" placeholder="message goes here">
          <input class="imageInput" type="text" name="image" placeholder="Image URL goes here">
          <button class="postButton">Post it!</button>
<br>
<input type="radio" name="category" value="Too Good To Be True"> Too Good To Be True<br>
<input type="radio" name="category" value="Gentle"> Gentle<br>
<input type="radio" name="category" value="Dark"> Dark <br>
<input type="radio" name="category" value="Pragmatic"> Pragmatic
          
          

      </form>
      <script>
      function sendMessageToServer(e) {
        document.querySelector(".note").innerHTML = "Thanks: Your message was saved!";
        let data = {};
        data.message = document.querySelector(".messageInput").value;
        data.image = document.querySelector(".imageInput").value;
        data.category = document.querySelector('input[name="category"]:checked').value;

        console.log(data.message)
        fetch("/posts",{
          method:"POST",
          body: JSON.stringify(data),
          headers: {'Content-Type': 'application/json'}
        });
        e.preventDefault();
      }
      document.querySelector(".postButton").addEventListener("click" , sendMessageToServer);
    </script>
  </body>
</html>
